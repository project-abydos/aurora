<td-layout-nav>
  <div td-toolbar-content layout="row" layout-align="center center" flex class="">
    <span class="animated fadeIn">{{appTitle}}</span>
    <span flex></span>
    <span class="pull-right-sm start-imds-sync animated fadeInRightBig">
      <ng-template tdLoading="imds-380" tdLoadingColor="accent"> </ng-template>
    </span>
  </div>
  <div layout-gt-sm="row" tdMediaToggle="gt-xs" [mediaClasses]="['push-sm']">
    <div flex-gt-sm="100">
      <ng-template tdLoading="mdc">
        <mat-card class="animated zoomIn" style="background: #eee">
          <div layout="row" layout-align="start center" class="pad-left-sm pad-right-sm">
            <td-chips flex=1 placeholder="Add search terms and press enter" [items]="searchTermPresets" [(ngModel)]="searchTerms" (add)="navigateSearch()"
              (remove)="navigateSearch()" (inputChange)="refreshSearchItems($event)">
            </td-chips>
          </div>

          <div class="dashboard mat-table">
            <div class="dashboard-header mat-header-row mat-elevation-z4">
              <div class="mat-header-cell JCN">JCN</div>
              <div class="mat-header-cell WorkCenter">Shop</div>
              <div class="mat-header-cell EquipID">EquipID</div>
              <div class="mat-header-cell Discrepancy">Discrepancy</div>
              <div class="mat-header-cell LastUpdate">Last Update</div>
              <div class="mat-header-cell ETIC">ETIC</div>
              <div class="mat-header-cell ApprovalStatus">Status</div>
            </div>
            <div class="dashboard-footer mat-header-row mat-elevation-z1">
              <div class="mat-header-cell">
                <span *ngIf="metrics" layout="row">
                  <span flex>{{metrics.red}} Red Jobs</span>
                  <span flex>{{metrics.amber}} Amber Jobs</span>
                  <span flex>{{metrics.days90}} Jobs Opened 90+ Days Ago</span>
                  <span flex>{{metrics.days30}} Jobs 30+ Days Without Updates</span>
                </span>
              </div>
            </div>
            <div class="dashboard-body">
              <ng-template ngFor let-row [ngForOf]="filteredData" [ngForTrackBy]="Id">
                <mdrp-job-row [row]="row" [ngClass]="row.firstOver30 ? 'over30': ''"></mdrp-job-row>
              </ng-template>
            </div>

            <div class="mat-padding" *ngIf="filteredData.length < 1" layout="row" layout-align="center center">
              <h3>No results to display.</h3>
            </div>
          </div>

        </mat-card>
      </ng-template>
    </div>

  </div>
  <td-layout-footer>
    <div layout="row" layout-align="start center">
      <span class="mat-caption">Developed by the 5 CBCSS/SCS, Robins AFB, GA.</span>
      <span flex class="mat-caption text-center" style="color:#bbb; font-style:italic">This app updates in the background automatically</span>
      <span class="julian-date animated fadeInRightBig">Julian Date: {{julianDate}}</span>
    </div>
  </td-layout-footer>
</td-layout-nav>